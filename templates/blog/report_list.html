{% extends 'base.html' %}
{% load static %}

{% block container %}
<style>
    
    .page-header {
        position: relative;
    }

    .page-header__bg {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
    }

    .reports-container {
        display: flex;
        flex-wrap: wrap;
        justify-content: space-between;
    }

    .report-card {
        width: 48%;
        margin-bottom: 20px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        overflow: hidden;
        box-sizing: border-box;
    }

    .report-viewer {
        width: 100%;
        height: 300px; /* Adjust height as needed */
    }

    .report-info {
        padding: 10px;
        background-color: #f8f9fa;
    }

    .report-title {
        margin: 0;
    }

    .report-tags {
        display: flex;
        flex-wrap: wrap;
    }

    .report-tags a {
        margin-right: 10px;
        margin-bottom: 10px;
    }

    @media screen and (max-width: 768px) {
        .report-card {
            width: 100%; /* Set to full width on small devices */
        }

        .report-viewer {
            height: 200px; /* Adjust height for small devices */
        }
    }

    /* Clear-fix for the footer */
    body {
        margin: 0;
        padding: 0;
    }

    .site-footer__bottom {
        /* padding: 20px; */
        margin-bottom: -20px;
    }
</style>

<div class="stricky-header stricked-menu main-menu">
    <div class="sticky-header__content"></div>
</div>

<!-- Page Header Start -->
<section class="page-header">
    <img class="page-header__bg" src="{% static 'assets/images/backgrounds/page-header-bg-1-1.jpg' %}" alt="">
    <div class="container">
        <h2>Reports</h2>
        <ul class="thm-breadcrumb list-unstyled">
            <li><a href="/">Home</a></li>
            <li class="color-thm-gray">/</li>
            <li><span>Reports</span></li>
        </ul>
    </div>
</section>

<!-- Reports Section Start -->
<section class="reports-section" style="margin-bottom: -20px;">
    <div class="container">
        <div class="reports-container">
            {% for report in reports %}
                {% if forloop.counter != 2 %} {# Exclude report number 2 #}
                    <div class="report-card">
                        <div class="report-viewer">
                            <!-- Embed PDF viewer here -->
                            <embed src="{{ report.url }}" width="100%" height="100%" type="application/pdf">
                        </div>
                        <div class="report-info">
                            <h3 class="report-title">{{ report.rp_title }}</h3>
                            <div class="report-tags">
                                {% for tag in report.tags.all %}
                                    <a href="{% url 'blog:report_tag' tag.slug %}"
                                    class="link-light text-decoration-none badge bg-secondary">
                                        {{ tag.name }}
                                    </a>
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                {% endif %}
            {% endfor %}
        </div>
    </div>
</section>

{% endblock %}
